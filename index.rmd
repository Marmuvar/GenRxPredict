--- 
output:
  bookdown::pdf_document2:
    toc: no
    latex_engine: xelatex
    keep_tex: yes
    keep_md: true
    citation_package: biblatex
  bookdown::html_document2: default
bibliography: book.bib
biblio-style: apa
fontsize: 12 pt
geometry: left=1in, right=1in, top=1in, bottom=1in
linkcolor: blue
urlcolor: blue
citecolor: blue
link-citations: yes
editor_options:
  chunk_output_type: console
header-includes:
- \usepackage{caption}
- \captionsetup[figure]{labelfont={sf,bf}}
- \captionsetup[figure]{font=sf}
- \captionsetup[table]{labelfont={sf,bf, small}}
- \captionsetup[table]{font={sf, small}}
- \usepackage{setspace}
- \doublespace
- \usepackage{subcaption}
- \usepackage{float}
- \usepackage{booktabs}
- \usepackage{longtable}
- \usepackage{array}
- \usepackage{multirow}
- \usepackage{wrapfig}
- \usepackage{float}
- \usepackage{colortbl}
- \usepackage{pdflscape}
- \usepackage{tabu}
- \usepackage{threeparttable}
- \usepackage{threeparttablex}
- \usepackage[normalem]{ulem}
- \usepackage{makecell}
- \usepackage{xcolor}
---

```{r setup, include=FALSE}
#Upversion to v_1_0 for Thesis Rough Draft Submission
library(tidyverse)
library(formatR)        #USed for tidy output of chunks
library(knitr)
library(kableExtra)     #for Table Formatting
#https://cran.r-project.org/web/packages/kableExtra/vignettes/
#awesome_table_in_html.html
#https://haozhu233.github.io/kableExtra/awesome_table_in_pdf.pdf


library(lubridate)      #For date manipulation
library(glue)
library(caret)
library(factoextra)
library(rpart)
library(rpart.plot)
library(cluster)
library(glue)
library(xgboost)          #For Gradient Boosted Tree Models
library(shapviz)          #visualization of shap models 
library(e1071)  # For binary classification with svm

#Functions for scaling and classifying textual data.
library("quanteda")
library("quanteda.textmodels") 
library("quanteda.textstats")  
library("tidytext")
library("stm")

knitr::opts_chunk$set(echo = FALSE, 
                      tidy.opts = list(width.cutoff = 70), 
                      tidy = TRUE, fig.pos="htbp", out.extra="", include = FALSE,
                      message = FALSE)
```
```{r read_files, include = FALSE}
prods <- read_rds("Data\\prods_V_1_1.rds")
prods_full <- read_rds("Data\\prods_full_V_1_1.rds")
prods_dcn_full <- read_rds("Data\\prods_dcn_full_V_1_1.rds")
gen_brand_join <- read_rds("Data\\gen_brand_join_V_1_1.rds")
pats<-read_rds("Data\\pats_V_1_1.rds")
apps_w_pats_stats <- read_rds("Data\\apps_w_pats_stats_V_1_1.rds")
brands_w_pats_stats <- read_rds("Data\\brands_w_pats_stats_V_1_1.rds")
ingredients <- read_rds("Data\\ingredients_V_1_1.rds")
ingredients_wide <- read_rds("Data\\ingredients_wide_V_1_1.rds")
pkg_wide <- read_rds("Data\\pkg_wide_V_1_1.rds")
prods_mkt_time <- read_rds("Data\\prods_mkt_time.rds")
pkg_wide <- mutate(pkg_wide, across(where(is.numeric), replace_na, 0))
use_codes <- read_csv("Data\\use_codes.csv")

med_stop <- c("use", "aid", "nda", "mammals", "agent",  
              "human", "patient", "patients", "method", "using", "via", "due",
              "ii", "need", "min", "b", "=", ">", "<", "hours", "data",
              "ml", "kg", "least", "thereof", "including", "pharmaceutical", 
              "ee", "fl", "s", "may", "apl", "+", "animals",
              "older", "old", "years", "mg", "ng", "per", "age", "administer",
              "administering", ",",  "/", ".", "(", ")")

```
\begin{center}Classification of Generic Manufacturers and Competition in the Pharmaceutical Industry
  
  
A Thesis Submitted in Partial Fulfillment of the  

Requirements for the Degree of  

Master of Arts  
  
  
  
by  

Mark Benmuvhar  
  
Dr. Scott Alberts, Thesis Advisor
  
Department of Data Science
  
School of Arts and Letters
  
2022
  
  
TRUMAN STATE UNIVERSITY  

Kirksville, Missouri

\end{center}
\thispagestyle{empty}

\newpage
\pagenumbering{roman}
\setcounter{page}{2}  

\hspace{0pt}
\vfill
## Acknowledgements {.unlisted .unnumbered}

Thank you to my advisor, Dr. Scott Alberts, for your encouragement in moving this project from draft to a defensible thesis.  

That thesis gained insight from my committee members, Dr. Scott Thatcher and Dr. An-Di Yim.  Your review helped me to find the larger story behind the data.   
\par
Thank you to my Dad for buying that first personal computer many years ago and for teaching me to find questions.  

Thank you to my Mom for the patience to transcribe code for BASIC games and for the same patience when I took apart the computer.  
\par
Thank you to Colin, Tom, Susan, Tom, Catherine, and Rose for your support and belief throughout the program.  

Thank you to Ethan and Jaden, whose willingness to listen cleared up so many design challenges.  
\par
And thank you to my wife, Andria, who kept goals in focus, inspired me to follow through on this journey, and supported me along the way.  

\vfill
\hspace{0pt}

\newpage
\tableofcontents
\newpage
\pagenumbering{roman}